# üèê Voleibol Bunyola Calendar Bot

This project automates the scheduling of volleyball matches for **CV Bunyola** and manages teammate attendance via Google Calendar invitations.

## üöÄ How it Works (Hybrid System)

Due to Google's security restrictions on Service Accounts (bots cannot send invites to personal emails), we use a **two-part system**:

1.  **Python Scraper (`update_calendar.py`)**:
    -   Runs daily via **GitHub Actions**.
    -   Scrapes match data from the federation website.
    -   Generates a `matches.json` file in this repository.

2.  **Google Apps Script (The "Invite Bot")**:
    -   Runs in **your Google Account**.
    -   Reads the `matches.json` file.
    -   Creates events in your **Google Calendar**.
    -   **Sends email invitations** to your teammates automatically.

---

## üõ†Ô∏è Setup Instructions

### 1. Python Scraper (Already Running)
This part is automatic. GitHub Actions runs everyday at **00:00 CET** to check for new matches or changes.

### 2. Google Apps Script (One-Time Setup)
To enable the calendar syncing and invites:

1.  Go to [script.google.com](https://script.google.com/home) and create a **New Project**.
2.  Copy the code from [`google_apps_script.js`](google_apps_script.js) in this repo.
3.  **IMPORTANT configuration**:
    -   Look for `const TEAMMATES` at the top.
    -   **Add your teammates' email addresses** inside the brackets.
    -   *(The file in this repo has `YOUR_EMAIL_HERE` as a placeholder for privacy. Fill it in your private script!).*
4.  **Run** the `syncMatches` function once to test. You will need to authorize it.
5.  **Automate it**:
    -   Click on the **Triggers** icon (‚è∞ clock) on the left sidebar.
    -   **+ Add Trigger**.
    -   Function: `syncMatches`.
    -   Event Source: **Time-driven**.
    -   Type: **Day timer** (e.g., 6am to 7am).
6.  Save! Now your calendar will stay in sync every day.

---

## üìÇ File Structure

-   `update_calendar.py`: The main scraper logic.
-   `matches.json`: The raw data generated by the scraper (consumed by the Google Script).
-   `google_apps_script.js`: The code for the Google Cloud component.
-   `cv_bunyola.ics`: A standard calendar subscription file (Legacy method, read-only).
